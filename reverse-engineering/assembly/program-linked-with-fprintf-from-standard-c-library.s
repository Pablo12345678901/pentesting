	# This program is VERY simple and it aims to be used for comparing 'static linking' with 'dynamic linking'.
	.globl main

#------------------------------------------------------------------------------
	
	.section .rodata

message_hello_world:
	.ascii "\nHello, world !\n\0"

#------------------------------------------------------------------------------
	
	.section .text
	
main:
	enter $0, $0

	movq stdout, %rdi
	leaq message_hello_world, %rsi
	# No floating-point argument for variadic function.
	movq $0, %rax
	call fprintf

	# Set '0' as main return code.
	xor %rax, %rax

	leave
	ret

#------------------------------------------------------------------------------

	# Set non-executable stack ("") that contains program data "@progbits"
	.section .note.GNU-stack, "", @progbits
