# This file contains a struct that will be used from another file.
#
# Assemble this file with :
# 	as FILENAME.s -o OBJECT-FILE.o
# And then link it with other files with :
#	ld OBJECT-FILE-1.o OBJECT-FILE-2.o -o EXECUTABLE
	
	.section .data

	# Defining global variables accessible from other files.
	.globl people, number_of_people

number_of_people:
	.quad (end_people - people) / PERSON_RECORD_SIZE

people:
	# Array of people (weight [kg], shoe size, hair color [see below], height [cm], age [year])
	# With hair color equivalence : 1 = red, 2 = brown, 3 = blonde, 4 = black, 5 = grey, 6 = white, 7 = other
	.quad 120, 40, 1, 174, 20
	.quad 100, 42, 1, 172, 44
	.quad 50, 48, 1, 168, 30
	.quad 70, 44, 2, 175, 24
	.quad 60, 40, 2, 170, 11
	.quad 80, 41, 2, 169, 65
	.quad 92, 47, 2, 171, 99
	.quad 101, 46, 2, 179, 34
	.quad 87, 40, 3, 188, 87
	.quad 55, 44, 3, 195, 25
	.quad 164, 33, 4, 250, 17
	.quad 83, 31, 5, 169, 60
	.quad 122, 40, 5, 184, 21
	.quad 157, 39, 6, 195, 48
	.quad 44, 38, 7, 128, 8
	.quad 33, 35, 7, 100, 7
	.quad 22, 30, 7, 70, 2
	.quad 81, 41, 7, 165, 65
	
end_people:	

	# Describe the struct
	.globl WEIGHT_OFFSET, SHOE_OFFSET, HAIR_OFFSET, HEIGHT_OFFSET, AGE_OFFSET
	.equ WEIGHT_OFFSET, 0
	.equ SHOE_OFFSET, 8
	.equ HAIR_OFFSET, 16
	.equ HEIGHT_OFFSET, 24
	.equ AGE_OFFSET, 32

	# Total size of the struct
	.globl PERSON_RECORD_SIZE
	.equ PERSON_RECORD_SIZE, 40 # 40 = 5 * 8 = 4 quadwords, each one describing one characteristic of a person.
